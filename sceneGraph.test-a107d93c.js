import{r as p,j as t}from"./index-767ff75a.js";import{S as E,g as A,h as C,C as c,r as f,d as o,a as u,R as L,s as w,b as F}from"./Test.module-0a03da6d.js";import{u as N}from"./hooks-37335958.js";import{I as q}from"./Info-ad689ad5.js";function k(){const R=p.useRef(null);p.useEffect(()=>{const I=R.current,r=new E(I);A(r),C(r);const n=new c;n.x=100,n.y=30,n.fixedRadius=!0,n.style.zIndex=10,n.radius=10,n.style.fillStyle=f(),o(n);const s=new c;s.fixedRadius=!0,s.style.zIndex=9,s.radius=10,s.style.fillStyle=f(),s.y=50,n.add(s),o(s);const y=new u;r.addEventListener("beforeRender",()=>{y.dx=s.x,y.dy=s.y}),n.add(y);for(let a=1;a<4;a++){const e=new c;e.fixedRadius=!0,e.style.zIndex=8,e.radius=10,e.style.fillStyle=f(),e.y=50,e.x=a*30,n.add(e),o(e);const l=new u;r.addEventListener("beforeRender",()=>{l.dx=e.x,l.dy=e.y}),n.add(l)}const d=new c;d.fixedRadius=!0,d.style.zIndex=7,d.radius=10,d.style.fillStyle=f(),d.y=50,s.add(d),o(d);const m=new u;r.addEventListener("beforeRender",()=>{m.dx=d.x,m.dy=d.y}),s.add(m);for(let a=1;a<4;a++){const e=new c;e.fixedRadius=!0,e.style.zIndex=6,e.radius=10,e.style.fillStyle=f(),e.y=50,e.x=a*30,s.add(e),o(e);const l=new u;r.addEventListener("beforeRender",()=>{l.dx=e.x,l.dy=e.y}),s.add(l)}const x=new F,j=new L(0,0,100,200),i=new c;i.fixedRadius=!0,i.style.zIndex=999,i.radius=10,i.style.fillStyle="blue",i.x=50,i.y=100,x.add(i),x.add(j),d.add(x),o(j),o(i),x.scale=2;let h=0;const b=performance.now(),g=()=>{const a=performance.now();x.scale=Math.sin((a-b)*.005)*.5+1,h=requestAnimationFrame(g)};return h=requestAnimationFrame(g),r.add(n),()=>{r.dispose(),cancelAnimationFrame(h)}},[]);const S=p.useRef(null),[v,z]=N(S);return t.jsx("div",{className:w.wrapper,children:t.jsxs("main",{className:w.mainPaper,ref:S,children:[t.jsx("canvas",{ref:R,className:w.canvas,width:v,height:z}),t.jsxs(q,{children:[t.jsx("div",{style:{fontSize:"1.1em",fontWeight:"500"},children:" 📷 画布："}),t.jsx("ul",{children:t.jsx("li",{children:"右键拖动，滚轮缩放"})}),t.jsx("div",{style:{fontSize:"1.1em",fontWeight:"500"},children:" 🖌️ 绘制矩形："}),t.jsxs("ul",{children:[t.jsx("li",{children:"点击空白处并拖动，增加矩形"}),t.jsx("li",{children:"拖动矩形或顶点，调整矩形"})]})]})]})})}export{k as default};
