import{_ as y,j as o}from"./index-b9dd1638.js";import{f as u,S as x,s as h,a as v,R as S,u as j,b as i}from"./Test.module-a0ac7215.js";import{d as w}from"./drawPolyline-8c826308.js";import{e as P}from"./editPolygon-2bd88a8c.js";import{b as p,r as R}from"./misc-3d267c02.js";import"./editPolyline-75742db0.js";function _(t,n,l={},c={}){return w(t,e=>{if(t.remove(e.target),e.target.points.length<2)return;const a=new u;a.points=e.target.points,a.x=e.target.x,a.y=e.target.y,Object.assign(a.styles,l),t.add(a),n==null||n({type:"createPolygon",target:a,currentTarget:t})},l,c)}function I(){const t=y.useRef(null);y.useEffect(()=>{const m=t.current,e=new x(m);h(e),v(e);const a=_(e,s=>{p(s.target,[100,100,700,500]);const r=s.target;r.styles.fillStyle=R(.5),r.styles.lineWidth=10,r.styles.lineCap="round",r.styles.lineJoin="round",r.hoverStyles.strokeStyle="red";const d=P(r,g=>{p(g.target,[100,100,700,500])});e.add(d)},{},{fillStyle:"green"});{const s=new S;s.styles.zIndex=-1,s.styles.fillStyle="rgba(0, 0, 0, 0.1)",s.styles.pointerEvents="none",s.x=100,s.y=100,s.width=600,s.height=400,e.add(s)}return()=>{a(),e.dispose()}},[]);const n=y.useRef(null),[l,c]=j(n);return o.jsxs("div",{className:i.wrapper,children:[o.jsx("main",{className:i.mainPaper,ref:n,children:o.jsx("canvas",{ref:t,className:i.canvas,width:l,height:c})}),o.jsxs("footer",{className:i.footer,children:["🔔",o.jsx("div",{children:"绘制：空白区域左键开始绘制；点击头尾点结束绘制；meta+点击边可添加顶点；meta点击顶点可删除顶点（头部点不可删除）；左键拖动图形"}),o.jsx("div",{children:"画布：滚轮缩放；右键平移"})]})]})}const f=[[.9510565162951535,.3090169943749474],[.22451398828979272,.3090169943749474],[-.9510565162951535,.3090169943749475],[-.3632712640026805,-.11803398874989464],[.5877852522924729,-.8090169943749476],[.3632712640026804,-.11803398874989492],[0,1],[-.22451398828979263,.30901699437494745],[-.5877852522924732,-.8090169943749473],[0,-.38196601125010515]],E=[1,2,7,8,3,4,9,10,5,6];E.map(t=>({x:f[t-1][0],y:f[t-1][1]})).map(t=>({x:t.x*100+200,y:t.y*100+200}));export{I as default};
